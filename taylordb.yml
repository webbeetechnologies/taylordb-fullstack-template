version: 1

app:
  name: blank
  runtime:
    type: node
    version: 20
    packageManager: pnpm

paths:
  root: .
  dist: dist

environment:
  envVars:
    NODE_ENV: production
    VITE_TAYLORDB_BASE_ID: vars.TAYLORDB_SERVER_ID
    VITE_TAYLORDB_BASE_URL: vars.TAYLORDB_BASE_URL

install:
  commands:
    - pnpm install

build:
  commands:
    - pnpm build

dev:
  command: pnpm dev
  port: 5173
  readyWhen:
    log: "Local:"

start:
  command: pnpm start
  port: 3000

taylordb:
  types:
    output: src/lib/taylordb.types.ts
    format: typescript
    onChange:
      - pnpm lint
